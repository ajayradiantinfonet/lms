{% extends 'user_lms/header_1.html' %}

{% block course_details %}

{% load static %}


<style>
.sign_form
{
  font-size: 20px !important;
    padding: 2px 20px;
    font-weight: 600;
    color: #5EB685;
}
.sign_form img
{
  width: 130px;
    margin: 0px 20px;
}
.center-block a
{
  margin: 32px;
}
.form-control:focus 
{
    color: #495057;
    background-color: #fff;
    border-color: #fff;
    outline: 0;
     box-shadow: 0 0 0 0.2rem rgb(200 203 207 / 25%) !important; 
}
.btn-primary:hover 
{
    color: #fff;
    background-color:#5EB685;
    border-color: #5EB685;
}
.button_signup
 {
    color: #fff;
    background-color: #5EB685;
    margin: 0 auto;
    display: block;
    width: 130px;
    border-color: #5EB685;
    }
.btn-primary:not(:disabled):not(.disabled):active, 
.show > .btn-primary.dropdown-toggle 
{
    color: #fff;
    background-color: #5EB685;
    border-color:#5EB685;}
    .or_text{margin: 0 auto;
    display: table;
}


</style>


<div class="col-md-12">
        <div class="row">
    <div class="col-md-5">
        <div class="col-md-12 video-preview" style="border-radius: 4px; margin: 40px 45px;
            height: 60vh; width:100%;">
            <!-- <h2 style="font-size: 13px;text-align: center;">Profile Information</h2> -->

        </div>

        <div class="col-sm-12 pic_div">
            <canvas id="pic_canvas" style="display: none;"></canvas>
            <p id="text"> Please blink and your picture will be automatically uploaded ...</p>
        </div>

    </div> <!--col-5-->



  <div class="col-md-7">


    <!-- {% if messages %}
        <ul class="messages">
                    {% for message in messages %}
                   <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>

                        {{ message }}
                    </li>
                    {% endfor %}
        </ul>
    {% endif %} -->
    <div class="row">
             <div class="col-md-12 col-sm-12" style="padding: 20px 123px 0px 123px;">
             	    </p>
<article class="card-body mx-auto" style="max-width: 400px;">
	
	<h4 class="text-center sign_form">Sign Up with <img src="{% static 'accounts/img/Apprentissage-Logo.png' %}" alt=""></h4>
	<form method="post" action="{% url 'accounts:register' %}" id="form" 
    enctype="multipart/form-data">
		 <label for="name" class="cols-sm-2 control-label">First Name</label>
	<div class="form-group input-group">
		<div class="input-group-prepend">
		    <span class="input-group-text"> <i class="fa fa-user"></i> </span>
		 </div>
        <input name="first_name" id="first_name" class="form-control" placeholder="Enter your First name" type="text">
    </div> <!-- form-group// -->
    <label for="name" class="cols-sm-2 control-label">Last Name</label>
	<div class="form-group input-group">
		<div class="input-group-prepend">
		    <span class="input-group-text"> <i class="fa fa-user"></i> </span>
		 </div>
        <input name="last_name" id="last_name" class="form-control" placeholder="Enter your Last name" type="text">
    </div> <!-- form-group// -->
     <label for="name" class="cols-sm-2 control-label">Email Address</label>
    <div class="form-group input-group">
    	<div class="input-group-prepend">
		    <span class="input-group-text"> <i class="fa fa-envelope"></i> </span>
		 </div>
        <input name="email" id="email" class="form-control" placeholder="Enter your Email address" type="email">
    </div> <!-- form-group// -->
    <label for="name" class="cols-sm-2 control-label">Mobile Number</label>
    <div class="form-group input-group">
    	<div class="input-group-prepend">
		    <span class="input-group-text"> <i class="fa fa-phone"></i> </span>
		</div>
		<select class="custom-select" style="max-width: 120px;">
		    <option selected="">+91</option>
		    <option value="1">+92</option>
		    <option value="2">+93</option>
		    <option value="3">+94</option>
		</select>
    	<input name="phone" id="phone" class="form-control" placeholder="Enter your Mobile Number" type="text">
    </div> <!-- form-group// -->
    <label for="name" class="cols-sm-2 control-label">Password</label>
    <div class="form-group input-group">
    	<div class="input-group-prepend">
		    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
		</div>
        <input class="form-control" id="password1" name="password1" placeholder="Enter your Password" type="password">
    </div> <!-- form-group// -->
    <label for="name" class="cols-sm-2 control-label">Confirm Password</label>
    <div class="form-group input-group">
    	<div class="input-group-prepend">
		    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
		</div>
        <input class="form-control" id="password2" name="password2" placeholder="Confirm your Password" type="password">
    </div> <!-- form-group// -->    


   <!--  <input type="file" id="profile_pic"
        name="image" accept="image/*"/> -->



    <div class="form-group">
        <input type="submit" class="btn btn-primary button_signup" value="submit" />
    </div> <!-- form-group// -->      
    <p class="text-center">Have an account? <a href="">Log In</a> </p>
    <p class="divider-text">
        <span class="or_text">OR</span>
    </p> 
    <!-- <h4 class="card-title mt-3 text-center">Create Account</h4>
	<p class="text-center">Get started with your free account</p> -->
		<div class="center-block">
          
            <a href="#"><i><img src="{% static 'accounts/img/facebook.png' %}"></i>
            </a>
            <a href="#"><i> <img src="{% static 'accounts/img/google-plus.png' %}"></i>
            </a>
            <a href="#"><i> <img src="{% static 'accounts/img/twitter.png' %}"></i>
            </a>
        </div>
                                                              
</form>
</article>
                  
              </div>
            </div>
              </div>
</div>  <!--row---->
</div>


{% endblock %}


{% block inpage_script %}

  {% load static %}
  <script src="https://cdn.jsdelivr.net/gh/nicolaspanel/numjs@0.15.1/dist/numjs.min.js">
    
  </script>
  <script src="{% static 'accounts/js/opencv.js' %}" type="text/javascript"></script>

  <script defer src="{% static 'accounts/js/face-api.min.js' %}"></script>
  <script defer src="{% static 'accounts/js/winkScroll.js' %}"></script>



  <script>

    $('#phone').on('keyup',function(){
        var phone=$(this).val();
        if(phone.length > 10){
            alert("phone length should be 10");
            return false;
        }
    }); 

    $('.button_signup').click(function(event){
        event.preventDefault();
        var phone = $('#phone').val();
        if(phone.length > 10) {
            alert("phone length should be 10");
            return false;
        }

        //$('#pic_canvas').show();
        //console.log($('#pic_canvas'));

        var fd = new FormData();
        var image = localStorage.getItem("image")
        //console.log(image);
        fd.append('image',image);
        fd.append("first_name",$('#first_name').val());
        fd.append("last_name",$('#last_name').val());
        fd.append("email",$('#email').val());
        fd.append("phone",$('#phone').val());
        fd.append("password1",$('#password1').val());
        fd.append("password2",$('#password2').val());
        
        $.ajax({
            url:'{% url "accounts:register" %}',
            type:'post',
            data:fd,
            contentType: false,
            processData: false,
            success:function (data) {
                //var res=JSON.parse(data);
                console.log(data);
                alert(data);
                // if(res.message==true){
                //     console.log(res);
                //     window.location.href="{% url 'accounts:login' %}";
                // }
            }
        });
        //var files = $('#profile_pic')[0].files[0];
        //fd.append('file',files);
        //console.log(files);
        //console.log(fd);
        //$('#form').submit();


    });




  </script>


{% endblock %}