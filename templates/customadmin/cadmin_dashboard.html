{% extends 'head2.html' %} 


{% load static %} {% block inner_content %}



<style>
    .buttons-excel {
        color: #5EB685;
        border: 1px solid #5EB685;
        background: white;
        border-radius: 2px;
    }
    
    .buttons-pdf {
        color: #5EB685;
        border: 1px solid #5EB685;
        background: white;
        border-radius: 2px;
    }
    
    .buttons-copy {
        color: #5EB685;
        border: 1px solid #5EB685;
        background: white;
        border-radius: 2px;
    }
    
    .buttons-csv {
        color: #5EB685;
        border: 1px solid #5EB685;
        background: white;
        border-radius: 2px;
    }
    
    .buttons-print {
        color: #5EB685;
        border: 1px solid #5EB685;
        background: white;
        border-radius: 2px;
    }
    
    table.dataTable thead td {
        /* padding: 10px 18px; */
        /* border-bottom: 1px solid #111; */
        padding: 0 !important;
        border-bottom: 0 !important;
    }
    
    table.dataTable.no-footer {
        border-bottom: 0 !important;
    }
    
    .buttons-excel:hover {
        /*background-color: pink;*/
    }
</style>





<div class="right_col" role="main">
    <!-- top tiles row 1-->


    {% if messages %} {% for message in messages %}
    <div class="alert alert-dismissible alert-{{ message.tags }}">
        <button type="button" class="close" data-dismiss="alert">
                        <i class="fa fa-close"></i>
                    </button>
        <strong>{{ message }}</strong>
    </div>
    {% endfor %} {% endif %}


    <div class="row">
        <div class="col-md-3">
            <div class="card-counter info flex-line" style="background:#4BDDC0 padding-box;">
                <div class="col-md-6 img-card">
                    <img src="{% static 'boimage/Group4.svg' %}" alt="">
                </div>
                <div class="col-md-6">
                    <h3 class="count-name">Total Courses</h3>
                    <h6 class="count-numbers">{{ courses|length }}</h6>

                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card-counter danger flex-line">
                <div class="col-md-6 img-card">
                    <img src="{% static 'boimage/Group3.svg' %}" alt="">
                </div>
                <div class="col-md-6">
                    <h3 class="count-name">College</h3>
                    <h6 class="count-numbers">{{ college|length }}</h6>
                
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card-counter success flex-line">
                <div class="col-md-6 img-card">
                    <img src="{% static 'boimage/Group2.svg' %}" alt="">
                </div>
                <div class="col-md-6">
                    <h3 class="count-name">Users</h3>
                    <h6 class="count-numbers">{{ users|length }}</h6>

                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card-counter info flex-line">
                <div class="col-md-6 img-card">
                    <img src="{% static 'boimage/Group1.svg' %}" alt="">
                </div>
                <div class="col-md-6">
                    <h3 class="count-name">Calendar</h3>
                    <h6 class="count-numbers">25</h6>

                </div>
            </div>
        </div>
    </div>
    <br/>

    <!-- /top tiles -->
    <!-- row 2 -->
    <!-- /top tiles -->
    <!-- row 2 courses-->

    <div class="row">
        <div class="col-md-12 col-sm-12 ">
            <div class="dashboard_graph">
                <div class="x_title table-border">
                    <h2 class="head-tag">Courses</h2>
                    <ul class="nav navbar-right panel_toolbox">
                        <li>
                            <div class="btn_dashgraph" data-toggle="buttons">
                            <!-- <label class="btn btn_upload">
                       <i class="fa fa-cloud-upload bulk_img" aria-hidden="true"></i><span>Bulk Upload</span>
                        </label>  -->
                                <label class="btn btn_add  add_course_user ">
                           <!-- <img src="{% static 'boimage/plus.svg' %}" alt=""> -->
                          <img src="{% static 'boimage/plus.svg'  %}" alt=""><span> Add Course</span>
                        </label>
                            </div>
                        </li>
                    </ul>
                    <div class="clearfix"></div>
                </div>

                <div class="box_bottom">
                    <div id="cards_landscape_wrap-2">
                        {% for course in course %}
                        <div class="col-xs-12 col-sm-6 col-md-3 col-lg-2" style="margin-right:80px;">
                            <div class="card-flyer height-card1">
                                <div class="text-box">
                                    <div class="image-box img-height">
                                        <img src="{{ course.thumbnail.url }}" alt="">
                                        <span class="fa-img1">.
                            <i class="fa fa-ellipsis-v  box_show" aria-hidden="true">
                            <ul style="display:none;" class="box_hide box-ul">
                                <a class="show_course" obj_id="{{course.id}}"><li>View</li></a>
                                <a class="edit_course" obj_id="{{course.id}}"><li>Edit</li></a>
                                <a class="delete_course" obj_id="{{course.id}}"><li>Suspend</li>
                                  
                            </ul>
                            </i>
                            </span>
                                    </div>
                                    <div class="text-container">
                                        <h6>{{ course.name }}</h6>
                                        <ul class="ul-management">
                                            <li><img src="images/education.svg" alt=""></li>
                                            <!-- <li>Students</li>
                                            <li>25 Students</li> -->
                                        </ul>
                                        <ul class="ul-management">
                                            <li><img src="images/clock.svg" alt=""></li>
                                            <!-- <li>Duration</li>
                                            <li>3h 30 Min</li> -->
                                        </ul>

                                        <div class="btn-view">
                                            <a class="btn view_btn show_course" obj_id="{{course.id}}" href="#">
                                                <i class="fa fa-arrow-circle-o-down" aria-hidden="true"></i><span>View More</span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        {% endfor %}

                        <!--  <nav aria-label="Page navigation example">
  <ul class="pagination">
    <li class="page-item">
      <a class="page-link" href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
        <span class="sr-only">Previous</span>
      </a>
    </li>
    <li class="page-item"><a class="page-link" href="#">1</a></li>
    <li class="page-item"><a class="page-link" href="#">2</a></li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>
    <li class="page-item">
      <a class="page-link" href="#" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
        <span class="sr-only">Next</span>
      </a>
    </li>
  </ul>
</nav> -->




                    </div>

                    {% if course.has_other_pages %}
                    <nav aria-label="Page navigation example" style="float:right">
                        <ul class="pagination">
                            {% if course.has_previous %}
                            <li class="page-item"><a class="page-link" href="?page={{ course.previous_page_number }}">&laquo;</a></li>
                            {% else %}
                            <li class="disabled page-item"><span></span></li>
                            {% endif %} {% for i in course.paginator.page_range %} {% if course.number == i %}
                            <li class="active page-item"><a class="page-link">{{ i }} <span class="sr-only">(current)</span></a></li>
                            {% else %}
                            <li><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                            {% endif %} {% endfor %} {% if course.has_next %}
                            <li class="page-item"><a class="page-link" href="?page={{ course.next_page_number }}">&raquo;</a></li>
                            {% else %}
                            <li class="disabled"><span></span></li>
                            {% endif %}
                        </ul>
                    </nav>
                    {% endif %}

                    <div class="clearfix"></div>



                </div>
            </div>
        </div>
    </div>
    <br />


    <!-- /top tiles -->
    <!-- table section row 3-->
    <div class="row">
        <div class="col-md-12 col-sm-12 ">
            <div class="dashboard_graph1">

                <div class="x_panel">
                    <div class="x_title table-border">
                        <h2 class="head-tag">Companies</h2>
                         <ul class="nav navbar-right panel_toolbox"> 
                            <li>
                                 <div class="" data-toggle="buttons"> 
                                    <!-- <label class="btn btn_upload">
  <img src="{% static 'boimage/plus.svg'  %}" alt="">
  <span>Bulk Upload</span>
  </label> -->
                                    <!-- <label class="btn btn_add add_company">
     <img src="{% static 'boimage/plus.svg'  %}" alt=""><span> Add Company</span>
  </label> -->
                                </div>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="card-box table-responsive">


                                    <!-- datatable-responsive  -->
                                    <table id="company-table" class="dt-responsive nowrap table_content" cellspacing="0" width="100%">
                                        <thead>
                                            <tr>
                                                <th>Company</th>
                                                <th>Registration Date</th>
                                                <th>Assigned Person</th>
                                                <th>Contact</th>
                                                <th>E-Mail</th>
                                                <th>City</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for org in organizations %}
                                            <tr>
                                                <td>{{ org.organization_name }}</td>
                                                <td>{{ org.start_date|date:'Y-m-d' }}</td>
                                                <td>{{ org.contact_person_name }}</td>
                                                <td>{{ org.contact_person_phone }}</td>
                                                <td>{{ org.contact_person_email }}</td>
                                                <td>{{ org.city }}</td>
                                                <td class="td_img"><img src="{% static 'boimage/edit.svg' %}" href="" class="edit_company" obj-id="{{ org.id }}" alt=""><img src="{% static 'boimage/delete.svg' %}" class="delete_company" obj-id="{{ org.id }}" alt=""></td>
                                            </tr>
                                            {% endfor %}

                                        </tbody>

                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- table end -->
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>

{% comment %} this is clg section {% endcomment %}


<div class="row">
        <div class="col-md-12 col-sm-12 ">
            <div class="dashboard_graph1">

                <div class="x_panel">
                    <div class="x_title table-border">
                        <h2 class="head-tag">College</h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li>
                                <div class="" data-toggle="buttons">
                                    <!-- <label class="btn btn_upload">
  <img src="{% static 'boimage/plus.svg'  %}" alt="">
  <span>Bulk Upload</span>
  </label> -->
                                       <label class="btn btn_add add_college">
     <img src="{% static 'boimage/plus.svg'  %}" alt=""><span> Add College</span>
  </label> 
                                </div>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="card-box table-responsive">


                                    <!-- datatable-responsive  -->
                                    <table id="college-table" class="dt-responsive nowrap table_content" cellspacing="0" width="100%">
                                        <thead>
                                            <tr>
                                                <th>College</th>
                                                
                                                <th>Registration Date</th>
                                                <th>Assigned Person</th>
                                                <th>Contact</th>
                                                <th>E-Mail</th>
                                                <th>City</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for org in college %}
                                            <tr>
                                                <td>{{ org.clg_name }}</td>

                                                <td>{{ org.start_date|date:'Y-m-d' }}</td>
                                                <td>{{ org.contact_person_name }}</td>
                                                <td>{{ org.contact_person_phone }}</td>
                                                <td>{{ org.contact_person_email }}</td>
                                                <td>{{ org.city }}</td>
                                                <td class="td_img"><img src="{% static 'boimage/edit.svg' %}" href="" class="edit_college" obj-id="{{ org.id }}" alt=""><img src="{% static 'boimage/delete.svg' %}" class="delete_college" obj-id="{{ org.id }}" alt=""></td>
                                            </tr>
                                            {% endfor %}

                                        </tbody>

                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- table end -->
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
























    <!-- /top tiles -->
    <!-- table section row 3-->
    <div class="row">
        <div class="col-md-12 col-sm-12 ">
            <div class="dashboard_graph1">


                <div class="x_panel">
                    <div class="x_title table-border">
                        <h2 class="head-tag">Users</h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li>
                                <div class="" data-toggle="buttons">
                                    <label class="btn btn_upload add_user_bulk">
                                      <a > <img src="{% static 'boimage/plus.svg' %}" alt="" /><span> Bulk upload</span></a>
  </label>

                                    <label class="btn btn_add add_user">
    <a href="{% url 'customadmin:students' %}"> <img src="{% static 'boimage/plus.svg' %}" alt="" /><span> Add Users</span></a>
    </label>

                                </div>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="card-box table-responsive">


                                    <table id="user-table" class="table-striped dt-responsive nowrap table_content" cellspacing="0" width="100%">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th> clg</th>
                                                <th>Company</th>
                                                <th>Role</th>
                                                <th>Enrollment Date</th>
                                                <th>Contact</th>
                                                <th>E-Mail</th>
                                                <th>City</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for user in users %}
                                            <tr>
                                                <td>{{ user.first_name }}</td>
                                                <td>{{ user.clg_name }}</td>
                                                <td>{{ user.organization_student.all.0 }}</td>
                                                <td>{{ user.position }}</td>
                                                <td>{{ user.date_joined|date }}</td>
                                                <td>{{ user.phone }}</td>
                                                <td>{{ user.email }}</td>
                                                <td>{{ user.address1 }}</td>
                                                <td class="td_img"><img src="{% static 'boimage/edit.svg' %}" class="edit_user" obj-id="{{ user.id}}" alt=""><img src="{% static 'boimage/delete.svg' %}" alt="" class="delete_user" obj-id="{{ user.id}}"></td>
                                            </tr>

                                            {% endfor %}



                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- table end -->
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>


</div>
<!-- /page content -->

</div>

{% endblock %} {% block inpage_script %}

<link href="https://cdn.datatables.net/v/bs4/dt-1.10.24/datatables.min.cs" rel="stylesheet" />

<!-- <link href="https://cdn.datatables.net/buttons/1.7.0/css/buttons.dataTables.min.css">
 -->
<script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js">
</script>



<!-- <script src="https://code.jquery.com/jquery-3.5.1.js"></script> -->
<script src="https://cdn.datatables.net/buttons/1.7.0/js/dataTables.buttons.min.js">
</script>




<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.7.0/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.7.0/js/buttons.print.min.js"></script>


<script>
    $(document).ready(function() {
        $(".box_show").click(function() {
            $(this).children(".box_hide").toggle();
        });
    });
</script>


<script>
    $('.add_course_user').click(function() {
        window.location.href = "{% url 'customadmin:add_course_user' %}";
    });

    $('.add_company').click(function() {
        window.location.href = "{% url 'customadmin:create_organization' %}";
    });
    
    
    $('.add_college').click(function() {
        window.location.href = "{% url 'customadmin:create_College' %}";
    });
    
    $('.edit_company').click(function() {
        var obj_id = $(this).attr("obj-id");
        window.location.href = "{% url 'customadmin:edit_organization'  %}"  + obj_id + "/";
    });
    $('.edit_college').click(function() {
        var obj_id = $(this).attr("obj-id");
    
        window.location.href = "{% url 'customadmin:edit_college'  %}"  + obj_id + "/";
    });
    $('.delete_college').click(function() {
        var obj_id = $(this).attr("obj-id");
        window.location.href = "{% url 'customadmin:delete_college'  %}"  + obj_id + "/";
    });

    
    

    $('.add_user').click(function() {
        window.location.href = "{% url 'customadmin:create_organization_user' %}";
    });
    $('.add_user_bulk').click(function() {
        window.location.href = "{% url 'customadmin:importemployee' %}";
    });

    $('.edit_user').click(function() {
        var obj_id = $(this).attr("obj-id");
        window.location.href = "{% url 'customadmin:students'  %}" + "edit/" + obj_id + "/";
    });

    $('.delete_user').click(function() {
        var obj_id = $(this).attr("obj-id");
        window.location.href = "{% url 'customadmin:students' %}" + "delete/" + obj_id + "/";
    });

    //$(document).ready(function() {   
    $('#company-table').DataTable({
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    });
    $('#user-table').DataTable({
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    });
    $('#college-table').DataTable({
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    });
    $('.show_course').click(function(){
        var obj_id=$(this).attr("obj_id");
    
        window.location.href="{% url 'customadmin:all_course_user'  %}"+obj_id+"/view/";
    });

    $('.edit_company').click(function() {
        var obj_id = $(this).attr("obj-id");
        window.location.href = "{% url 'customadmin:edit_organization'  %}" + obj_id + "/";
    });
    $('.delete_company').click(function() {
        var obj_id = $(this).attr("obj-id");
        window.location.href = "{% url 'customadmin:delete_organization'  %}"  + obj_id + "/";
    });

   




    //});
</script>
{% endblock %}