{% extends 'user_lms/header_1.html' %}

{% load static %}



{% block course_details %}

<div id="download_cer" data-attr='{{ certificate|safe }}'>

  {{ certificate|safe }}
</div>

{% endblock %}


{% block inpage_script %}


<script src='{% static "js/domtoimg.js" %}' type='text/javascript'></script>
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<script>



  if(d3.selectAll("#crossline")!=null && d3.selectAll("#crossbutton")!=null)
  {
           d3.selectAll("#crossline").remove();
           d3.selectAll("#crossbutton").remove();
  }

  d3.selectAll('g').select("#candidatename").text("{{ user }}").
  attr("baseline","middle");

	// $(function(){
	// 	alert();
		
 //        //var id=$(elm).attr("data-id");

 //        var x=document.getElementById("download_cer");
 //        x.innerHTML='';
 //        x.innerHTML=x.getAttribute("data-attr");
 //        x.style.display="block";

 //        //console.log("fjfjjfjfjfj",d3.selectAll("#crossline"));
 //        if(d3.selectAll("#crossline")!=null && d3.selectAll("#crossbutton")!=null)
 //        {
 //           d3.selectAll("#crossline").remove();
 //           d3.selectAll("#crossbutton").remove();
 //        }
 //        d3.selectAll('g').select("#candidatename").text("{{ user }}").
 //        attr("baseline","middle");
        
 //        domtoimage.toPng(x, { quality: 0.95 })
 //          .then(function (dataUrl) {
 //          x.style.display='none';
 //          var link = document.createElement('a');
 //          link.download = 'my-image-name.jpeg';
 //          link.href = dataUrl;
 //          link.click();

 //        });

	// });
        
        

 	

 </script>

 
{% endblock %}